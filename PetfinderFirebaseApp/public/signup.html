<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign up Page</title>
    <link rel="stylesheet" href="styles/sign_up_style.css"> <!-- Link to your CSS file -->
</head>
<body>
    <header class="header clearfix">
        <nav class="header__nav nav">
            <ul class="nav__wrapper">
                <li class="nav__itemSpecialFont">
                    <a class="nav__link" href="#">
                        <span>Petfinder</span>
        <img src="images\pawLogo.jpg" alt="Paw" class="paw">
                    </a>
                </li>
                <li class="nav__item">
                    <a class="nav__link1" href="index.html">
                        home
                    </a>
                </li>
                <li class="nav__item">
                    <a class="nav__link1" href="donate.html">
                        donate
                    </a>
                </li>
                <li class="nav__item">
                    <a class="nav__link1" href="about-us.html">
                        about us
                    </a>
                </li>
                <li class="nav__item">
                        <a class="nav__link1" href="search.html">
                            search
            
                        </a>
                </li>
                <li class="login-signup-container">
                <div class="login-signup-buttons">
                <li button class="login-button">
                    <a class="login-button" href="login.html">
                        login
                    </a>
                </li>
                <li><button class="signup-button">
                    <a class="signup-button" href="signup.html">
                        sign up
                    </a>
                    </button>
                </li>
            </div>
        </li>
            </ul>
        </nav>
    </header>
    <h1 id= "h1_id">Sign up Page</h1>
    <div class="signup__wrapper">
    <form id="signup-form">
        <label for="username">Username:</label><br>
        <input type="text" id="username" name="username"><br>
        <label for="userEmail">Email:</label><br>
        <input type="email" id="userEmail" name="email"><br>
        <label for="userPassword">Password:</label><br>
        <input type="password" id="userPassword" name="password"><br><br>
        <button type="button" id="signup-button">Sign up</button>
    </form>
</div>
</body>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics.js";
    import {
        getAuth,
        createUserWithEmailAndPassword
    } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyA2R_sslVzbXHqwbGeYkIPwarqyDmLatR4",
        authDomain: "petfinder-a877d.firebaseapp.com",
        databaseURL: "https://petfinder-a877d-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "petfinder-a877d",
        storageBucket: "petfinder-a877d.appspot.com",
        messagingSenderId: "15112357500",
        appId: "1:15112357500:web:cd97d3c5cf2e838761abf9",
        measurementId: "G-JLL390PYTE"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth(app);

    // Select DOM elements
    const username = document.querySelector("#username");
    const userEmail = document.querySelector("#userEmail");
    const userPassword = document.querySelector("#userPassword");
    const signupButton = document.querySelector("#signup-button");

    // Sign-up function
    const userSignUp = async(event) => {
        event.preventDefault(); // Prevent the default form submission behavior FOARTE IMPORTANT 
        const signUpEmail = userEmail.value;
        const signUpPassword = userPassword.value;

        try {
            const userCredential = await createUserWithEmailAndPassword(auth, signUpEmail, signUpPassword);
            const user = userCredential.user;
            console.log(user);
            alert("User created successfully!");
            window.location.href = "login.html";
        } catch (error) {
            console.error(error);
            alert("Error creating user!");
        }
    }

    // Attach event listener to sign-up button
    signupButton.addEventListener("click", userSignUp);
</script>
</html>
